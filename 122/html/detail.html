<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">

		<link rel="stylesheet" href="../css/mui.min.css">
		<style type="text/css">
			#map {
				width: 100%;
				position: fixed;
				top: 135px;
				bottom: 0px;
				line-height: 200px;
				text-align: center;
				background: #FFFFFF;
			}
		</style>
	</head>

	<body>
		<ul class="mui-table-view">
			<li class="mui-table-view-cell">作业时段
				<span class="mui-badge mui-badge-primary " id="zuoyesd">11</span>
			</li>
			<li class="mui-table-view-cell">平均深度
				<span class="mui-badge mui-badge-success" id="shendu">22</span>
			</li>
			<li class="mui-table-view-cell">耕作农具
				<span class="mui-badge" id="addres"></span>
			</li>
		</ul>
		<div id="map">地图加载中...</div>
		<!--<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=GVn1oS8OuiRlisQZudQXLa1AvBGqCKFO"></script>-->
		<!--<script type="text/javascript" src="http://developer.baidu.com/map/jsdemo/demo/convertor.js"></script>-->

		<script src="../js/mui.min.js"></script>
		<script src="../js/commontUrl/commontUrl.js">
			<script type="text/javascript" src="http://api.map.baidu.com/api?v=3.0&ak=GalSpNI1lOaDCEokZO89CUCanzYG5H21">
		</script>
		<script type="text/javascript">
			var em = null,
				map = null;
			// H5 plus事件处理
			function plusReady() {
				// 确保DOM解析完成
				if(!em || !window.plus || map) {
					return
				};
				map = new plus.maps.Map("map");
				map.centerAndZoom(new plus.maps.Point(116.3977, 39.906016), 12);
				normalMap();
				showTraffic();
				showUserLocation();
				addMarker();
				getUserLocation();
				
// 设置新的折线顶点
var points = new Array( new plus.maps.Point(116.0,39.0), new plus.maps.Point(115.0,114.0), new plus.maps.Point(117.0,38.0) );
var polylineObj = new plus.maps.Polyline( points );
// 设置折线为红色
polylineObj.setStrokeColor("ff0000");

// 设置折线为宽度为10
polylineObj.setLineWidth( 50 );
				
polylineObj.setPath( points );
//				alert(polylineObj.getLineWidth());
				
				// 创建Route线路对象
var routeObj = new plus.maps.Route( new plus.maps.Point(116.404,39.915), new plus.maps.Point(116.347496,114.970191) );

routeObj.startPoint;
			}
			if(window.plus) {
				plusReady();
			} else {
				document.addEventListener("plusready", plusReady, false);
			}
			// DOMContentloaded事件处理
			document.addEventListener("DOMContentLoaded", function() {
				em = document.getElementById("map");
				plusReady();
			}, false);
			// 设置地图的中心点
			function setCenter() {
				var center = new plus.maps.Point(118.123, 35.456);
				map.setCenter(center);
			}
			// 获取用户的当前位置信息
function getUserLocation(){
	map.getUserLocation( function ( state, point ){
		if( 0 == state ){
//			alert( JSON.stringify(point) );
		}else{
//			alert( "Failed!" );


		}
	} );
}
			// 添加标点
var marker=null;
function addMarker(){
	if(marker){return;}
	marker=new plus.maps.Marker(new plus.maps.Point(116.347496,39.970191));
	marker.setIcon("/logo.png");
	marker.setLabel("HBuilder");
	var bubble = new plus.maps.Bubble("打造最好的HTML5移动开发工具");
	marker.setBubble(bubble);
	map.addOverlay(marker);
}
			// 打开用户位置
function showUserLocation(){
	map.showUserLocation( true );
}
			// 获取是否打开地图交通信息图层
function isTraffic(){
	alert( map.isTraffic() );
}
			// 打开地图交通信息图层
function showTraffic(){
	map.setTraffic( true );
}
			// 街道视图
function normalMap(){
	map.setMapType( plus.maps.MapType.MAPTYPE_NORMAL );
}
// 卫星视图
function stelliteMap(){
	map.setMapType( plus.maps.MapType.MAPTYPE_SATELLITE );
}
		</script>

	</body>

</html>